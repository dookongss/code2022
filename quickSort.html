<script>
let arr = [6,5,2,7,3,9,8,4,10,1]
/**
 * 快速排序-分而治之
 * 步骤：
 * 1.设置基准值(一般为arr[0])，分别从左到右leftIdx、从右到左rightIdx遍历数组
 * 2.从左到右找到第一个大于基准值的数，从右到左找到第一个小于基准值的数，交换这两个数，重复步骤二直到leftIdx>=rightIdx
 * 3.交换基准值和arr[i]，至此完成一次快排
 * 4.此时基准值左侧的数均小于基准值，右侧的数均大于基准值，基于基准值将数组分为两部分，重复如上步骤
 * 
*/
function quickSort(arr) {
  sort(0,arr.length-1,arr)
  return arr
}
function sort(left,right,arr) {
  if(left<right) {
    // 得到新的基准值
    let index = partition(left,right,arr)
    // 递归执行
    sort(0,index-1,arr)
    sort(index+1,right,arr)
  }
}
function partition(left,right,arr) {
  let base = arr[left]
  let init = left
  while(left<right) {
    while(arr[right]>=base && left < right) {
      right--
    }
    while(arr[left]<=base && left < right) {
      left++
    }
    swap(left,right,arr)
  }
  // 交换基准值到分割点
  swap(init,left,arr)
  return left
}
function swap(left,right,arr){
  let tmp = arr[left]
  arr[left] = arr[right]
  arr[right] = tmp
}
console.log(quickSort(arr))
</script>